OverlayFS migration notes (WSL)

Goal
- Avoid duplicating modpack + libs per host by using overlayfs layers.
- Run server on WSL (Linux filesystem) and move data dirs there.

Why WSL
- overlayfs does not work reliably on /mnt/c (Windows mounts).
- Docker canâ€™t follow Windows symlinks inside Linux containers.

Move data dirs
- Move ./run (or at least HOSTS_DIR, MODPACK_DATA_DIR, GAME_LIBS_DIR) to WSL FS, e.g. /home/<user>/rdi5/run
- Ensure server/master is running inside WSL and paths point to Linux FS.

Overlay layout (per host)
- hostRoot/upper      (host overrides: configs, mods, generated files)
- hostRoot/work       (required by overlayfs)
- hostRoot/merged     (overlay mount point)

Lower layers (read-only)
- modpack version dir (version files)
- libs dir (shared libraries)
- optionally shared mods dir (if applicable)

Mount command (conceptual)
- overlay mount:
  lowerdir=<libs>:<modpackVersion> , upperdir=<hostRoot>/upper , workdir=<hostRoot>/work
  -> mount to <hostRoot>/merged

Container mounts
- Bind-mount <hostRoot>/merged to /opt/server
- Bind-mount world data to /data as before (or tmpfs if no save)

Runtime behavior
- On host start: ensure overlay dirs exist, mount overlay, create container, start.
- On host stop: stop container. Overlay mount can remain (or unmount if needed).

Notes
- Prefer mounting overlay on the host (WSL) before container creation.
- If container auto-removes, recreate container each start.

This is a future migration plan; do not enable until paths and WSL setup are confirmed.
